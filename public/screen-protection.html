<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen Protection Demo - Vanilla JS</title>
    <style>
        /* Basic styling */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .content {
            line-height: 1.6;
            font-size: 1.1em;
        }

        .warning-box {
            background: rgba(255, 193, 7, 0.2);
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        /* Protection Styles */
        .screen-protected * {
            -webkit-user-select: none !important;
            -moz-user-select: none !important;
            -ms-user-select: none !important;
            user-select: none !important;
            -webkit-touch-callout: none !important;
            -webkit-tap-highlight-color: transparent !important;
        }

        .screen-protected input,
        .screen-protected textarea {
            -webkit-user-select: text !important;
            -moz-user-select: text !important;
            -ms-user-select: text !important;
            user-select: text !important;
        }

        .screen-protected img {
            -webkit-user-drag: none !important;
            -khtml-user-drag: none !important;
            -moz-user-drag: none !important;
            -o-user-drag: none !important;
            user-drag: none !important;
            pointer-events: none !important;
        }

        /* Watermark */
        .watermark {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 9998;
            background-image: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 100px,
                rgba(255, 255, 255, 0.03) 100px,
                rgba(255, 255, 255, 0.03) 200px
            );
        }

        .watermark::before {
            content: "PROTECTED CONTENT";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 48px;
            color: rgba(255, 255, 255, 0.05);
            font-weight: bold;
            white-space: nowrap;
            z-index: 9999;
        }

        /* Transparent overlay */
        .protection-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: transparent;
            pointer-events: none;
            z-index: 9997;
            mix-blend-mode: difference;
        }

        /* Blur effects */
        .content-blurred {
            filter: blur(20px) !important;
            transition: filter 0.3s ease !important;
        }

        .content-normal {
            filter: none !important;
            transition: filter 0.3s ease !important;
        }

        /* Warning popup */
        .warning-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(220, 53, 69, 0.95);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 10000;
            border: 2px solid #dc3545;
            backdrop-filter: blur(10px);
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .warning-popup.show {
            transform: translateX(0);
        }

        /* Blur overlay */
        .blur-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 9999;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .blur-overlay.active {
            display: flex;
        }

        .blur-message {
            background: rgba(220, 53, 69, 0.9);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            border: 2px solid #dc3545;
            backdrop-filter: blur(10px);
        }

        /* Print protection */
        @media print {
            .screen-protected * {
                visibility: hidden !important;
            }
            .screen-protected::before {
                content: "üîí PROTECTED CONTENT - PRINTING DISABLED" !important;
                visibility: visible !important;
                position: absolute !important;
                top: 50% !important;
                left: 50% !important;
                transform: translate(-50%, -50%) !important;
                font-size: 24px !important;
                color: black !important;
                background: white !important;
                padding: 20px !important;
                border: 2px solid black !important;
            }
        }

        /* Activity indicator */
        .activity-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(220, 53, 69, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            z-index: 10000;
            border: 2px solid #dc3545;
            backdrop-filter: blur(10px);
            display: none;
        }

        .activity-indicator.active {
            display: block;
        }

        .pulse-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #dc3545;
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
    </style>
</head>
<body class="screen-protected">
    <!-- Watermark -->
    <div class="watermark"></div>
    
    <!-- Transparent overlay -->
    <div class="protection-overlay"></div>
    
    <!-- Main content -->
    <div class="container" id="mainContent">
        <h1>üîí Screen Protection Demo</h1>
        
        <div class="content">
            <p>This page demonstrates comprehensive screenshot and screen recording prevention techniques using only front-end technologies (HTML, CSS, and JavaScript).</p>
            
            <div class="warning-box">
                <h3>‚ö†Ô∏è Protection Features Active:</h3>
                <ul>
                    <li>Right-click disabled</li>
                    <li>Screenshot shortcuts blocked (PrintScreen, Cmd+Shift+3/4/5, etc.)</li>
                    <li>Developer tools shortcuts disabled</li>
                    <li>Content blurs when tab loses focus</li>
                    <li>Transparent overlay for screenshot interference</li>
                    <li>Watermark background</li>
                    <li>Text selection disabled</li>
                    <li>Print protection active</li>
                    <li>Suspicious activity monitoring</li>
                </ul>
            </div>
            
            <p>Try the following to test the protection:</p>
            <ul>
                <li>Right-click anywhere on the page</li>
                <li>Press PrintScreen or F12</li>
                <li>Try Ctrl+C, Ctrl+A, or Ctrl+S</li>
                <li>Switch to another tab and come back</li>
                <li>Try to select text (except in input fields)</li>
            </ul>
            
            <p>Input field (selection allowed): <input type="text" placeholder="You can select text here..." style="padding: 5px; margin: 10px 0; width: 200px; color: black;"></p>
            
            <p><strong>Important Note:</strong> While these techniques provide strong deterrence against casual screenshot attempts, they cannot completely prevent determined users from capturing content using external tools, mobile devices, or advanced techniques.</p>
        </div>
    </div>

    <!-- Warning popup -->
    <div class="warning-popup" id="warningPopup">
        <span id="warningMessage">Action blocked for security</span>
    </div>

    <!-- Blur overlay -->
    <div class="blur-overlay" id="blurOverlay">
        <div class="blur-message">
            <h2>üîí Content Protected</h2>
            <p>This content is temporarily hidden for security reasons.</p>
            <p><small>Monitoring active - Please wait...</small></p>
        </div>
    </div>

    <!-- Activity indicator -->
    <div class="activity-indicator" id="activityIndicator">
        <span class="pulse-dot"></span>
        Security monitoring active
    </div>

    <script>
        // Screen Protection JavaScript
        class ScreenProtection {
            constructor(options = {}) {
                this.options = {
                    watermarkText: options.watermarkText || 'PROTECTED CONTENT',
                    enableWarnings: options.enableWarnings !== false,
                    blurDuration: options.blurDuration || 3000,
                    ...options
                };
                
                this.isBlurred = false;
                this.suspiciousActivity = 0;
                this.warningTimeout = null;
                
                this.init();
            }

            init() {
                this.addEventListeners();
                this.startMonitoring();
                console.log('üîí Screen protection activated');
            }

            addEventListeners() {
                // Disable right-click
                document.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    this.showWarning('Right-click disabled for content protection');
                    return false;
                }, { capture: true });

                // Disable keyboard shortcuts
                document.addEventListener('keydown', (e) => this.handleKeyDown(e), { capture: true });
                document.addEventListener('keyup', (e) => this.handleKeyDown(e), { capture: true });

                // Monitor visibility changes
                document.addEventListener('visibilitychange', () => this.handleVisibilityChange());
                
                // Monitor window focus
                window.addEventListener('blur', () => this.handleWindowBlur());
                window.addEventListener('focus', () => this.handleWindowFocus());

                // Prevent text selection and dragging
                document.addEventListener('selectstart', (e) => {
                    if (!e.target.matches('input, textarea')) {
                        e.preventDefault();
                        return false;
                    }
                });
                
                document.addEventListener('dragstart', (e) => {
                    e.preventDefault();
                    return false;
                });

                // Monitor mouse movements
                document.addEventListener('mousemove', () => this.handleMouseMove());
            }

            handleKeyDown(e) {
                // Screenshot shortcuts
                const screenshotShortcuts = [
                    { key: 'PrintScreen' },
                    { ctrl: true, shift: true, key: 'S' },
                    { meta: true, shift: true, key: 'Digit3' },
                    { meta: true, shift: true, key: 'Digit4' },
                    { meta: true, shift: true, key: 'Digit5' },
                    { alt: true, key: 'PrintScreen' },
                    { ctrl: true, key: 'PrintScreen' },
                ];

                // Developer tools shortcuts
                const devToolsShortcuts = [
                    { key: 'F12' },
                    { ctrl: true, shift: true, key: 'KeyI' },
                    { ctrl: true, shift: true, key: 'KeyJ' },
                    { ctrl: true, shift: true, key: 'KeyC' },
                    { ctrl: true, key: 'KeyU' },
                ];

                // Other protection shortcuts
                const otherShortcuts = [
                    { ctrl: true, key: 'KeyS' }, // Save
                    { ctrl: true, key: 'KeyA' }, // Select all
                    { ctrl: true, key: 'KeyC' }, // Copy
                    { ctrl: true, key: 'KeyV' }, // Paste
                    { ctrl: true, key: 'KeyX' }, // Cut
                    { ctrl: true, key: 'KeyP' }, // Print
                ];

                const allShortcuts = [...screenshotShortcuts, ...devToolsShortcuts, ...otherShortcuts];

                for (const shortcut of allShortcuts) {
                    const matchesModifiers = 
                        (!shortcut.ctrl || e.ctrlKey) &&
                        (!shortcut.shift || e.shiftKey) &&
                        (!shortcut.alt || e.altKey) &&
                        (!shortcut.meta || e.metaKey);

                    if (matchesModifiers && (e.code === shortcut.key || e.key === shortcut.key)) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        // Special handling for screenshot attempts
                        if (screenshotShortcuts.some(s => s.key === shortcut.key)) {
                            this.handleScreenshotAttempt();
                        } else {
                            this.showWarning('Keyboard shortcut disabled for security');
                        }
                        
                        return false;
                    }
                }
            }

            handleScreenshotAttempt() {
                this.suspiciousActivity++;
                this.blurContent();
                this.showWarning('Screenshot attempt detected! Content temporarily hidden.');
                this.showActivityIndicator();

                // Clear clipboard
                if (navigator.clipboard) {
                    navigator.clipboard.writeText('').catch(() => {});
                }
            }

            handleVisibilityChange() {
                if (document.hidden) {
                    this.blurContent();
                    this.showWarning('Tab visibility changed - content protected');
                } else {
                    setTimeout(() => {
                        this.unblurContent();
                    }, 1000);
                }
            }

            handleWindowBlur() {
                this.blurContent();
                this.suspiciousActivity++;
                this.showActivityIndicator();
            }

            handleWindowFocus() {
                setTimeout(() => {
                    this.unblurContent();
                }, 500);
            }

            handleMouseMove() {
                // Simple rapid movement detection
                if (!this.mouseMovements) this.mouseMovements = [];
                
                this.mouseMovements.push(Date.now());
                if (this.mouseMovements.length > 20) {
                    this.mouseMovements.shift();
                }

                // Check for suspicious rapid movements
                if (this.mouseMovements.length >= 10) {
                    const intervals = this.mouseMovements.slice(1).map((time, i) => 
                        time - this.mouseMovements[i]
                    );
                    const avgInterval = intervals.reduce((a, b) => a + b, 0) / intervals.length;
                    
                    if (avgInterval < 10) {
                        this.suspiciousActivity++;
                        if (this.suspiciousActivity > 5) {
                            this.blurContent();
                            this.showWarning('Suspicious mouse activity detected');
                            this.showActivityIndicator();
                            setTimeout(() => this.unblurContent(), 2000);
                        }
                    }
                }
            }

            blurContent() {
                if (this.isBlurred) return;
                
                this.isBlurred = true;
                const mainContent = document.getElementById('mainContent');
                const blurOverlay = document.getElementById('blurOverlay');
                
                if (mainContent) mainContent.classList.add('content-blurred');
                if (blurOverlay) blurOverlay.classList.add('active');
            }

            unblurContent() {
                if (!this.isBlurred) return;
                
                this.isBlurred = false;
                const mainContent = document.getElementById('mainContent');
                const blurOverlay = document.getElementById('blurOverlay');
                
                if (mainContent) mainContent.classList.remove('content-blurred');
                if (blurOverlay) blurOverlay.classList.remove('active');
            }

            showWarning(message) {
                if (!this.options.enableWarnings) return;
                
                const warningPopup = document.getElementById('warningPopup');
                const warningMessage = document.getElementById('warningMessage');
                
                if (warningMessage) warningMessage.textContent = message;
                if (warningPopup) {
                    warningPopup.classList.add('show');
                    
                    if (this.warningTimeout) clearTimeout(this.warningTimeout);
                    this.warningTimeout = setTimeout(() => {
                        warningPopup.classList.remove('show');
                    }, 3000);
                }
            }

            showActivityIndicator() {
                const indicator = document.getElementById('activityIndicator');
                if (indicator) {
                    indicator.classList.add('active');
                    setTimeout(() => {
                        indicator.classList.remove('active');
                    }, 5000);
                }
            }

            startMonitoring() {
                // Monitor for developer tools
                setInterval(() => {
                    const threshold = 160;
                    if (
                        window.outerHeight - window.innerHeight > threshold ||
                        window.outerWidth - window.innerWidth > threshold
                    ) {
                        this.blurContent();
                        this.showWarning('Developer tools detected! Please close them.');
                        this.showActivityIndicator();
                    }
                }, 1000);

                // Clear clipboard periodically
                setInterval(() => {
                    if (navigator.clipboard) {
                        navigator.clipboard.writeText('').catch(() => {});
                    }
                }, 2000);
            }
        }

        // Initialize screen protection when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new ScreenProtection({
                watermarkText: 'PROTECTED CONTENT',
                enableWarnings: true,
                blurDuration: 3000
            });
        });
    </script>
</body>
</html>